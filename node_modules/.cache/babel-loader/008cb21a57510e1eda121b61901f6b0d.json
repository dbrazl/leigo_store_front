{"ast":null,"code":"import { takeLatest, all, put, call, race, select } from \"redux-saga/effects\";\nimport api from \"../../../services/api\";\nimport { indexSellRequest, indexSellSuccess, resetPage, sellFailure } from \"./actions\";\nimport errorHandler from \"../utils/errorHandler\";\nimport timer from \"../utils/timer\";\n\nfunction* indexSells() {\n  try {\n    const page = yield select(state => state.sells.page);\n\n    const _ref = yield race({\n      response: call(api.get, \"/sell?page=\".concat(page)),\n      timeout: call(timer)\n    }),\n          response = _ref.response;\n\n    yield put(indexSellSuccess(response.data));\n    yield put(indexSellRequest());\n  } catch (error) {\n    yield put(resetPage());\n    console.tron.log(error); // yield errorHandler(error, sellFailure);\n  }\n}\n\nexport default all([takeLatest(\"@sell/INDEX_SELL_REQUEST\", indexSells)]);","map":{"version":3,"sources":["/home/daniel/Documents/Projetos/Software/Web/Reactjs/leigo_store/src/store/modules/sells/saga.js"],"names":["takeLatest","all","put","call","race","select","api","indexSellRequest","indexSellSuccess","resetPage","sellFailure","errorHandler","timer","indexSells","page","state","sells","response","get","timeout","data","error","console","tron","log"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqCC,IAArC,EAA2CC,MAA3C,QAAyD,oBAAzD;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AAEA,SACEC,gBADF,EAEEC,gBAFF,EAGEC,SAHF,EAIEC,WAJF,QAKO,WALP;AAOA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,UAAUC,UAAV,GAAuB;AACrB,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMT,MAAM,CAAEU,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYF,IAAxB,CAAzB;;AADE,iBAGmB,MAAMV,IAAI,CAAC;AAC9Ba,MAAAA,QAAQ,EAAEd,IAAI,CAACG,GAAG,CAACY,GAAL,uBAAwBJ,IAAxB,EADgB;AAE9BK,MAAAA,OAAO,EAAEhB,IAAI,CAACS,KAAD;AAFiB,KAAD,CAH7B;AAAA,UAGMK,QAHN,QAGMA,QAHN;;AAQF,UAAMf,GAAG,CAACM,gBAAgB,CAACS,QAAQ,CAACG,IAAV,CAAjB,CAAT;AACA,UAAMlB,GAAG,CAACK,gBAAgB,EAAjB,CAAT;AACD,GAVD,CAUE,OAAOc,KAAP,EAAc;AACd,UAAMnB,GAAG,CAACO,SAAS,EAAV,CAAT;AACAa,IAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBH,KAAjB,EAFc,CAGd;AACD;AACF;;AAED,eAAepB,GAAG,CAAC,CAACD,UAAU,CAAC,0BAAD,EAA6Ba,UAA7B,CAAX,CAAD,CAAlB","sourcesContent":["import { takeLatest, all, put, call, race, select } from \"redux-saga/effects\";\nimport api from \"~/services/api\";\n\nimport {\n  indexSellRequest,\n  indexSellSuccess,\n  resetPage,\n  sellFailure,\n} from \"./actions\";\n\nimport errorHandler from \"../utils/errorHandler\";\nimport timer from \"../utils/timer\";\n\nfunction* indexSells() {\n  try {\n    const page = yield select((state) => state.sells.page);\n\n    const { response } = yield race({\n      response: call(api.get, `/sell?page=${page}`),\n      timeout: call(timer),\n    });\n\n    yield put(indexSellSuccess(response.data));\n    yield put(indexSellRequest());\n  } catch (error) {\n    yield put(resetPage());\n    console.tron.log(error);\n    // yield errorHandler(error, sellFailure);\n  }\n}\n\nexport default all([takeLatest(\"@sell/INDEX_SELL_REQUEST\", indexSells)]);\n"]},"metadata":{},"sourceType":"module"}