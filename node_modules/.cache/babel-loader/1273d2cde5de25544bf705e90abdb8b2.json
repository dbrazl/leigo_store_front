{"ast":null,"code":"import produce from \"immer\";\nimport _ from \"lodash\";\nconst INITIAL_STATE = {\n  payaments: [],\n  page: 0,\n  status: {\n    loading: false\n  },\n  error: {\n    status: false,\n    message: \"\",\n    reasons: []\n  }\n};\nexport default function payament(state = INITIAL_STATE, action) {\n  return produce(state, draft => {\n    switch (action.type) {\n      case \"@payament/INDEX_PAYAMENTS_REQUEST\":\n        draft.status.loading = true;\n        draft.error = INITIAL_STATE.error;\n        break;\n\n      case \"@payament/INDEX_PAYAMENTS_SUCCESS\":\n        const indexPayaments = _.unionBy(state.payaments, action.payload.body, \"id\");\n\n        draft.payaments = _.orderBy(indexPayaments, [\"id\"], [\"desc\"]);\n        draft.status.loading = false;\n        draft.page = state.page + 1;\n        break;\n\n      case \"@payament/SEND_CREDIT_CARD_PAYAMENT_REQUEST\":\n        draft.status.loading = true;\n        draft.error = INITIAL_STATE.error;\n        break;\n\n      case \"@payament/SEND_CREDIT_CARD_PAYAMENT_SUCCESS\":\n        draft.status.loading = false;\n        break;\n\n      case \"@payament/SEND_BILLET_PAYAMENT_REQUEST\":\n        draft.status.loading = true;\n        draft.error = INITIAL_STATE.error;\n        break;\n\n      case \"@payament/SEND_BILLET_PAYAMENT_SUCCESS\":\n        draft.status.loading = false;\n        break;\n\n      case \"@payament/PAYAMENT_FAILURE\":\n        const _action$payload = action.payload,\n              message = _action$payload.message,\n              reasons = _action$payload.reasons;\n        draft.status.loading = false;\n        draft.error.status = false;\n        draft.error.message = message;\n        draft.error.reasons = reasons;\n        break;\n\n      case \"@payament/RESET_PAGE\":\n        draft.page = 0;\n        break;\n\n      case \"@payament/RESET_PAYAMENTS\":\n        draft.payaments = [];\n        break;\n\n      default:\n    }\n  });\n}","map":{"version":3,"sources":["/home/daniel/Documents/Projetos/Software/Web/Reactjs/leigo_store/src/store/modules/payament/reducer.js"],"names":["produce","_","INITIAL_STATE","payaments","page","status","loading","error","message","reasons","payament","state","action","draft","type","indexPayaments","unionBy","payload","body","orderBy"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,SAAS,EAAE,EADS;AAEpBC,EAAAA,IAAI,EAAE,CAFc;AAGpBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,OAAO,EAAE;AADH,GAHY;AAMpBC,EAAAA,KAAK,EAAE;AACLF,IAAAA,MAAM,EAAE,KADH;AAELG,IAAAA,OAAO,EAAE,EAFJ;AAGLC,IAAAA,OAAO,EAAE;AAHJ;AANa,CAAtB;AAaA,eAAe,SAASC,QAAT,CAAkBC,KAAK,GAAGT,aAA1B,EAAyCU,MAAzC,EAAiD;AAC9D,SAAOZ,OAAO,CAACW,KAAD,EAASE,KAAD,IAAW;AAC/B,YAAQD,MAAM,CAACE,IAAf;AACE,WAAK,mCAAL;AACED,QAAAA,KAAK,CAACR,MAAN,CAAaC,OAAb,GAAuB,IAAvB;AACAO,QAAAA,KAAK,CAACN,KAAN,GAAcL,aAAa,CAACK,KAA5B;AACA;;AAEF,WAAK,mCAAL;AACE,cAAMQ,cAAc,GAAGd,CAAC,CAACe,OAAF,CACrBL,KAAK,CAACR,SADe,EAErBS,MAAM,CAACK,OAAP,CAAeC,IAFM,EAGrB,IAHqB,CAAvB;;AAKAL,QAAAA,KAAK,CAACV,SAAN,GAAkBF,CAAC,CAACkB,OAAF,CAAUJ,cAAV,EAA0B,CAAC,IAAD,CAA1B,EAAkC,CAAC,MAAD,CAAlC,CAAlB;AACAF,QAAAA,KAAK,CAACR,MAAN,CAAaC,OAAb,GAAuB,KAAvB;AACAO,QAAAA,KAAK,CAACT,IAAN,GAAaO,KAAK,CAACP,IAAN,GAAa,CAA1B;AACA;;AAEF,WAAK,6CAAL;AACES,QAAAA,KAAK,CAACR,MAAN,CAAaC,OAAb,GAAuB,IAAvB;AACAO,QAAAA,KAAK,CAACN,KAAN,GAAcL,aAAa,CAACK,KAA5B;AACA;;AAEF,WAAK,6CAAL;AACEM,QAAAA,KAAK,CAACR,MAAN,CAAaC,OAAb,GAAuB,KAAvB;AACA;;AAEF,WAAK,wCAAL;AACEO,QAAAA,KAAK,CAACR,MAAN,CAAaC,OAAb,GAAuB,IAAvB;AACAO,QAAAA,KAAK,CAACN,KAAN,GAAcL,aAAa,CAACK,KAA5B;AACA;;AAEF,WAAK,wCAAL;AACEM,QAAAA,KAAK,CAACR,MAAN,CAAaC,OAAb,GAAuB,KAAvB;AACA;;AAEF,WAAK,4BAAL;AAAA,gCAC+BM,MAAM,CAACK,OADtC;AAAA,cACUT,OADV,mBACUA,OADV;AAAA,cACmBC,OADnB,mBACmBA,OADnB;AAEEI,QAAAA,KAAK,CAACR,MAAN,CAAaC,OAAb,GAAuB,KAAvB;AACAO,QAAAA,KAAK,CAACN,KAAN,CAAYF,MAAZ,GAAqB,KAArB;AACAQ,QAAAA,KAAK,CAACN,KAAN,CAAYC,OAAZ,GAAsBA,OAAtB;AACAK,QAAAA,KAAK,CAACN,KAAN,CAAYE,OAAZ,GAAsBA,OAAtB;AACA;;AAEF,WAAK,sBAAL;AACEI,QAAAA,KAAK,CAACT,IAAN,GAAa,CAAb;AACA;;AAEF,WAAK,2BAAL;AACES,QAAAA,KAAK,CAACV,SAAN,GAAkB,EAAlB;AACA;;AAEF;AAnDF;AAqDD,GAtDa,CAAd;AAuDD","sourcesContent":["import produce from \"immer\";\nimport _ from \"lodash\";\n\nconst INITIAL_STATE = {\n  payaments: [],\n  page: 0,\n  status: {\n    loading: false,\n  },\n  error: {\n    status: false,\n    message: \"\",\n    reasons: [],\n  },\n};\n\nexport default function payament(state = INITIAL_STATE, action) {\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case \"@payament/INDEX_PAYAMENTS_REQUEST\":\n        draft.status.loading = true;\n        draft.error = INITIAL_STATE.error;\n        break;\n\n      case \"@payament/INDEX_PAYAMENTS_SUCCESS\":\n        const indexPayaments = _.unionBy(\n          state.payaments,\n          action.payload.body,\n          \"id\"\n        );\n        draft.payaments = _.orderBy(indexPayaments, [\"id\"], [\"desc\"]);\n        draft.status.loading = false;\n        draft.page = state.page + 1;\n        break;\n\n      case \"@payament/SEND_CREDIT_CARD_PAYAMENT_REQUEST\":\n        draft.status.loading = true;\n        draft.error = INITIAL_STATE.error;\n        break;\n\n      case \"@payament/SEND_CREDIT_CARD_PAYAMENT_SUCCESS\":\n        draft.status.loading = false;\n        break;\n\n      case \"@payament/SEND_BILLET_PAYAMENT_REQUEST\":\n        draft.status.loading = true;\n        draft.error = INITIAL_STATE.error;\n        break;\n\n      case \"@payament/SEND_BILLET_PAYAMENT_SUCCESS\":\n        draft.status.loading = false;\n        break;\n\n      case \"@payament/PAYAMENT_FAILURE\":\n        const { message, reasons } = action.payload;\n        draft.status.loading = false;\n        draft.error.status = false;\n        draft.error.message = message;\n        draft.error.reasons = reasons;\n        break;\n\n      case \"@payament/RESET_PAGE\":\n        draft.page = 0;\n        break;\n\n      case \"@payament/RESET_PAYAMENTS\":\n        draft.payaments = [];\n        break;\n\n      default:\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"module"}